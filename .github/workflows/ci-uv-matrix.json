{
  "name": "CI (uv)",
  "on": {
    "push": {"branches": ["main", "develop"]},
    "pull_request": {"branches": ["main", "develop"]}
  },
  "jobs": {
    "tests": {
      "runs-on": "ubuntu-latest",
      "strategy": {"matrix": {"python-version": ["3.10", "3.11", "3.12"]}},
      "steps": [
        {"uses": "actions/checkout@v4"},
        {"uses": "actions/setup-python@v5", "with": {"python-version": "${{ matrix.python-version }}"}},
        {"uses": "astral-sh/setup-uv@v3"},
        {"name": "Sync deps", "run": "uv venv --python python3 && uv pip sync requirements.uv"},
        {"name": "Run tests", "run": "uv run pytest -q"}
      ]
    }
  }
}

